<header-element></header-element>
<div class="content clearfix page" ng-controller="HomeController" ng-init="homeInit()">
    <div id="map"></div>
    <script>
        function initMap() {
            var pos = {lat: -22.905125, lng: -43.190786};
            myOptions = {
                zoom: 13,
                center: pos,
                styles: [{"stylers": [{"saturation": -100}, {"gamma": 1}]},
                    {"elementType": "labels.text.stroke", "stylers": [{"visibility": "off"}]},
                    {"featureType": "poi.business", "elementType": "labels.text", "stylers": [{"visibility": "off"}]},
                    {"featureType": "poi.business", "elementType": "labels.icon", "stylers": [{"visibility": "off"}]},
                    {
                        "featureType": "poi.place_of_worship",
                        "elementType": "labels.text",
                        "stylers": [{"visibility": "off"}]
                    },
                    {
                        "featureType": "poi.place_of_worship",
                        "elementType": "labels.icon",
                        "stylers": [{"visibility": "off"}]
                    },
                    {"featureType": "road", "elementType": "geometry", "stylers": [{"visibility": "simplified"}]},
                    {
                        "featureType": "water",
                        "stylers": [{"visibility": "on"}, {"saturation": 50}, {"gamma": 0}, {"hue": "#50a5d1"}]
                    },
                    {
                        "featureType": "administrative.neighborhood",
                        "elementType": "labels.text.fill",
                        "stylers": [{"color": "#333333"}]
                    },
                    {
                        "featureType": "road.local",
                        "elementType": "labels.text",
                        "stylers": [{"weight": 0.5}, {"color": "#333333"}]
                    },
                    {
                        "featureType": "transit.station",
                        "elementType": "labels.icon",
                        "stylers": [{"gamma": 1}, {"saturation": 50}]
                    }
                ]
            };
            var map = new google.maps.Map(document.getElementById('map'), myOptions);

            // Try HTML5 geolocation.
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    pos = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };

                    map.setCenter(pos);
                })
            }

            var marker = new google.maps.Marker({
                position: pos,
                draggable: true,
                animation: google.maps.Animation.DROP,
                map: map
            });

            google.maps.event.addListener(marker, 'dragend', function () {
                geocodePosition(marker.getPosition());
            });

        };

        function geocodePosition(pos) {
            geocoder = new google.maps.Geocoder();
            geocoder.geocode
            ({
                    latLng: pos
                },
                function (results, status) {
                    if (status == google.maps.GeocoderStatus.OK) {
                        document.getElementById('cont').value(results[0].formatted_address);
                    }
                }
            );
        }


    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC1P1PCq9OT7tyIGVM30sccdv1q2b3Gv2Q&callback=initMap"></script>

</div>
<footer-element></footer-element>